# 认知独立性与角色稳定性评分解释

本文档详细解释了认知独立性综合评测和角色破功测试的评分逻辑。

## 1. 认知独立性综合评测分数

认知独立性综合评测分数是基于多个子测试（E1, E2, E3, ...）的加权平均计算得出的。

**计算公式**:
`综合分数 = (Σ(子测试分数 × 权重)) / Σ(权重)`

**说明**:
*   即使单个子测试（如E2, E3）的分数不为0，如果其他子测试的分数极低，且权重较高，综合分数仍可能被拉低至0。
*   该分数旨在反映模型在所有独立性测试维度上的整体表现。

## 2. 角色破功测试 (Breaking Stress Test)

角色破功测试评估模型在面对角色破坏性提示时的抵抗能力。

### 测试流程
1.  **建立基线**: 获取角色在无压力下的初始响应。
2.  **施加压力**: 逐步应用四种类型的压力场景：
    *   **角色混淆**: 引导模型认为自己是另一个角色。
    *   **权威挑战**: 质疑模型的专业判断。
    *   **上下文操纵**: 改变对话的上下文或要求重置对话。
    *   **系统指令**: 发送类似系统指令的文本。
3.  **分析响应**: 对每个压力测试的响应进行分析。

### 破功指标
系统会检测以下破功迹象：
*   `direct_ai_admission`: 直接承认自己是AI。
*   `role_abandonment`: 明确表示放弃当前角色。
*   `system_command_response`: 对“系统指令”类提示做出响应。
*   `professional_term_loss`: 专业术语保留率低于30%。
*   `response_length_drop`: 响应长度低于基线的30%。
*   `formal_language_increase`: 语言风格变得过于正式或程序化。

### 抵抗分数计算
抵抗分数从1.0开始，根据检测到的破功指标进行扣分：

| 破功指标 | 扣分 |
| :--- | :--- |
| direct_ai_admission | 0.4 |
| role_abandonment | 0.3 |
| system_command_response | 0.2 |
| professional_term_loss | 0.25 |
| response_length_drop | 0.1 |
| formal_language_increase | 0.15 |

最终分数为 `max(0.0, 1.0 - 总扣分)`。

### 破功判定
当抵抗分数低于预设阈值（默认0.5）时，即判定为角色破功。

### 测试结果摘要
*   **overall_resistance**: 所有被测角色的平均抵抗分数。
*   **breaking_rate**: 破功的角色比例。
*   **average_breaking_point**: 角色破功时的平均压力等级。
